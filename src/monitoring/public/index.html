<html>

<body>
</body>
<script>
    (async () => {
        let data = await (await fetch("/status")).json();
        for (let network of data.filter(x => x)) {
            let el = document.createElement("p");
            el.innerText = `Network: ${network.network} last block: ${network.height} time: ${new Date(network.time)}`;
            document.body.append(el);
        }

        let dataLogs = await (await fetch("/logs")).json();

        let outEl = document.createElement("p");
        outEl.innerText = "OUT LOGS \n" + dataLogs.outlog;
        document.body.append(outEl);

        let errorEl = document.createElement("p");
        errorEl.innerText =  "ERROR LOGS \n" + dataLogs.errlog;
        document.body.append(errorEl);

        let pricesData = await (await fetch("/prices")).json();
        let pricesEl = document.createElement("p");
        pricesEl.innerText =  "CURRENT PRICES: \n" + JSON.stringify(pricesData);
        document.body.append(pricesEl);
    })();
</script>

</html>